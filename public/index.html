<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ CodeBreaker Duel</h1>
            <p class="subtitle">âš¡ Real-Time Two-Player Challenge âš¡</p>
        </header>

        <!-- Session Setup Screen -->
        <div id="setupScreen" class="screen active">
            <div class="card">
                <h2>ğŸš€ Start a New Game</h2>
                <button id="createSessionBtn" class="btn btn-primary">âœ¨ Create New Session</button>
                
                <div class="divider">
                    <span>OR</span>
                </div>
                
                <div class="join-form">
                    <input type="text" id="sessionCodeInput" placeholder="Enter session code" maxlength="6">
                    <button id="joinSessionBtn" class="btn btn-secondary">ğŸ® Join Session</button>
                </div>
            </div>
        </div>

        <!-- Waiting Room Screen -->
        <div id="waitingScreen" class="screen">
            <div class="card">
                <h2>ğŸŠ Session Created!</h2>
                <div class="session-code-display">
                    <label>ğŸ“¤ Share this code with your friend:</label>
                    <div class="code-box">
                        <span id="displaySessionCode"></span>
                        <button id="copyCodeBtn" class="btn-icon" title="Copy code">ğŸ“‹</button>
                    </div>
                </div>
                <div id="playerStatus" class="player-status">
                    <p>â³ Waiting for another player to join...</p>
                </div>
            </div>
        </div>

        <!-- Number Selection Screen -->
        <div id="numberSelectionScreen" class="screen">
            <div class="card">
                <h2>ğŸ” Choose Your Secret Number</h2>
                <p class="instruction">ğŸ² Enter a 4-digit number with unique digits (e.g., 1234, 5678, 9876)</p>
                
                <div class="number-input-container">
                    <input type="text" id="secretNumberInput" class="number-input" placeholder="_ _ _ _" maxlength="4">
                </div>
                
                <button id="lockNumberBtn" class="btn btn-primary" disabled>ğŸ”’ Lock Number</button>
                
                <div id="waitingForOpponent" class="waiting-message" style="display: none;">
                    <div class="spinner"></div>
                    <p>â³ Waiting for opponent to choose their number...</p>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-info">
                <div class="info-card">
                    <span class="label">ğŸ¯ Session</span>
                    <span id="gameSessionCode" class="value"></span>
                </div>
                <div class="info-card" id="turnIndicator">
                    <span class="label">âš¡ Turn</span>
                    <span id="currentTurnDisplay" class="value"></span>
                </div>
            </div>

            <div class="game-layout">
                <!-- Guess Input -->
                <div class="card guess-panel">
                    <h3>ğŸ¯ Make Your Guess</h3>
                    <div class="guess-input-container">
                        <input type="text" id="guessInput" class="number-input" placeholder="_ _ _ _" maxlength="4">
                        <button id="submitGuessBtn" class="btn btn-primary">ğŸš€ Submit</button>
                    </div>
                    <p class="hint">ğŸ’¡ Guess your opponent's 4-digit number</p>
                </div>

                <!-- Guess History -->
                <div class="card history-panel">
                    <h3>ğŸ“Š Guess History</h3>
                    <div id="guessHistory" class="guess-history">
                        <p class="empty-state">ğŸ² No guesses yet. Make your first guess!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="screen">
            <div class="card game-over-card">
                <div id="winnerMessage" class="winner-message"></div>
                <div id="revealNumbers" class="reveal-numbers"></div>
                <button id="newGameBtn" class="btn btn-primary">ğŸ”„ Start New Game</button>
            </div>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message"></div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="game.js"></script>
</body>
</html>
